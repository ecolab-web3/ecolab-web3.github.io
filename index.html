<!DOCTYPE HTML
<!--
	Dimension by HTML5 UP (modified for E-co.lab)
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>E-co.lab | Open-Source ReFi and RWA Infrastructure</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>

		<!-- dApp Styles -->
		<style>
			/* Styles specific to the NFT Minting dApp */
			.mint-container { background-color: #1e1e1e; border-radius: 12px; padding: 30px; margin-top: 20px; border: 1px solid #333; }
			.mint-container h1, .mint-container h2 { color: #ffffff; text-align: center; }
			.info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; text-align: center; margin-bottom: 30px; }
			.info-box p { margin: 0; font-size: 1.2em; }
			.info-box .label { font-size: 0.9em; color: #888; }
			#sale-status-dot { height: 12px; width: 12px; border-radius: 50%; display: inline-block; margin-right: 8px; }
			.mint-controls { text-align: center; }
			.notice { font-size: 0.9em; color: #888; margin-top: -10px; margin-bottom: 20px; }
			#nft-eco .notice { margin-bottom: 2.5em; }
			.quantity-selector { display: flex; justify-content: center; gap: 20px; margin: 20px 0; }
			.quantity-selector label { border: 1px solid #444; padding: 10px 20px; border-radius: 8px; cursor: pointer; transition: background-color 0.2s, border-color 0.2s; }
			.quantity-selector input[type="radio"] { display: none; }
			.quantity-selector input[type="radio"]:checked + label { background-color: #B4E5A2; border-color: #B4E5A2; color: #121212; }
			#nft-eco .mint-container button { background-color: #B4E5A2; color: #121212 !important; padding: 15px 32px; font-size: 18px; margin: 20px auto; border: none; cursor: pointer; border-radius: 8px; font-weight: normal; transition: background-color 0.2s; display: flex; align-items: center; justify-content: center; }
			#nft-eco .mint-container button:hover:not(:disabled) { background-color: #a2d88d; }
			#nft-eco .mint-container button:disabled { background-color: #333; cursor: not-allowed; }
			#status { text-align: center; margin-top: 20px; font-weight: bold; word-wrap: break-word; min-height: 24px; }
			#wallet-info { text-align: center; margin-bottom: 20px; }
			.error { color: #CF6679; }
			.success { color: #B4E5A2; }			
			#nft-eco .notice a { color: #B4E5A2; }
		</style>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header (Main Hub) -->
					<header id="header">
						<div class="logo">
							<img src="images/logo.png" alt="E-co.lab Logo" style="width: 100%; height: auto; border-radius: 50%;">
						</div>
						<div class="content">
							<div class="inner">
								<p><strong>E-co.lab: Open-Source ReFi and RWA Infrastructure for a Regenerative Future.</strong><br />
								We build trust and transparency to connect real-world impact with on-chain value.</p>
								
								<ul class="actions" style="justify-content: center;">
									<li><a href="#nft-eco" class="button primary">ORIGIN NFT & $ECO</a></li>
									<li><a href="https://retro9000.avax.network/discover-builders/cmebmfjtw02g5103tb8aalzvi" target="_blank" class="button">Support Us on Retro9000</a></li>
								</ul>

								<ul class="icons">
									<li><a href="https://t.me/+HRl7gbc_gsI5OTAx" target="_blank" class="icon brands fa-telegram"><span class="label">Telegram</span></a></li>
									<li><a href="https://discord.gg/Q6BNyUDNtm" target="_blank" class="icon brands fa-discord"><span class="label">Discord</span></a></li>
									<li><a href="https://github.com/ecolab-web3" target="_blank" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
									<li><a href="https://e-co-lab.gitbook.io/whitepaper" target="_blank" class="icon solid fa-book"><span class="label">Whitepaper</span></a></li>
								</ul>
							</div>
						</div>
						<nav>
							<ul>
								<li><a href="#about">The Project</a></li>
								<li><a href="#founder-mission">Founder & Mission</a></li>
								<li><a href="#use-cases">Use Cases</a></li>
								<li><a href="#validation">Validation</a></li>
								<li><a href="#community">Community</a></li>
							</ul>
						</nav>
					</header>

				<!-- Main Content Panels -->
					<div id="main">

						<!-- The Project -->
							<article id="about">
								<h2 class="major">The Project</h2>
								<p><strong>E-co.lab is a collaborative and participatory ecosystem designed to be a launchpad for real-world impact.</strong> We provide the community with tools, education, and secure smart contract infrastructure to accelerate the adoption of positive-impact Real-World Assets (RWAs) on the Avalanche blockchain.</p>
								<p>Our flagship product is a professional-grade, upgradeable ERC-1155 contract suite that serves as foundational infrastructure for ReFi (Regenerative Finance) applications.</p>
								
								<h3 style="text-align: left;">Powered by the $ECO Token</h3>
								<p>The $ECO token is the lifeblood of our ecosystem, designed to foster a virtuous cycle of growth and reward participation. Our tokenomics are built on four key pillars:</p>
								<ul>
									<li><strong>Funding for Impact (E-co.lab Fund):</strong> A significant portion of the tokens is allocated to a community-governed treasury dedicated to financing new and innovative RWA projects.</li>
									<li><strong>Community Rewards:</strong> Staking and incentive mechanisms designed to reward long-term holders and active participants who secure and contribute to the ecosystem.</li>
									<li><strong>Sustainable Growth (Progressive Launch):</strong> A phased token launch with 20 series of airdrops and launchpads, ensuring a fair and gradual distribution while funding our development milestones transparently.</li>
									<li><strong>Builder & Contributor Incentives:</strong> Dedicated funds to reward the core contributors, developers, and service providers who build, maintain, and enrich the E-co.lab infrastructure.</li>
								</ul>

								<p>Our long-term vision is to leverage this token-powered ecosystem to launch the <strong>"E-co.lab ReFi Subnet"</strong>, a dedicated Layer 1 optimized for this new regenerative economy.</p>
							</article>

						<!-- Founder & Mission -->
							<article id="founder-mission">
								<h2 class="major">Our Founder & Mission</h2>

								<!-- === Founder Profile === -->
								<div class="team-member" style="display: flex; align-items: center; margin-bottom: 2em; text-align: left;">
									<div class="member-photo" style="flex: 0 0 100px; margin-right: 1.5em;">
										<img src="images/johnatan_palmer.jpg" alt="Johnatan Palmer" style="border-radius: 50%; width: 100px; height: 100px; object-fit: cover;" />
									</div>
									<div class="member-info">
										<h3 style="margin-bottom: 0.5em;">Johnatan Palmer</h3>
										<p style="margin-bottom: 1em;"><i>Lead Web3 Developer & Founder at E-co.lab, building open-source infrastructure for Regenerative Finance & Real World Assets (ReFi & RWA).</i></p>
										
										<div class="certifications" style="margin-bottom: 1em;">
											<p style="margin-bottom: 0.5em;"><strong>Certified Expertise:</strong></p>
											<ul style="margin: 0; padding-left: 1.5em;">
												<li>
													<a href="https://ecolab-web3.github.io/assets/certificates/avalanche-fundamentals_certificate.pdf" target="_blank" rel="noopener noreferrer">
														Completed the Avalanche Fundamentals course at the official Avalanche Academy.
													</a>
												</li>
												<li>
													<a href="https://collectors.poap.xyz/token/7138709" target="_blank" rel="noopener noreferrer">
														Completed the Chainlink Bootcamp at the Chainlink Education Hub.
													</a>
												</li>
												<li>
													<a href="https://nearxschool.s3.us-east-2.amazonaws.com/certificates/2d292a39a292e41e0c5dcae24f9c5d243c01d319.png" target="_blank" rel="noopener noreferrer">
														Completed the Optimism Bootcamp at NearX School.
													</a>
												</li>
											</ul>
										</div>

										<ul class="icons">
											<li><a href="https://farcaster.xyz/johnatanpalmer" target="_blank" class="icon solid fa-comment-dots" title="Farcaster"><span class="label">Farcaster</span></a></li>
											<li><a href="https://app.talentprotocol.com/80e887c0-b83b-43b0-b082-6762227f1f35" target="_blank" class="icon solid fa-star" title="Talent Protocol"><span class="label">Talent Protocol</span></a></li>
											<li><a href="https://github.com/johnatanpalmer" target="_blank" class="icon brands fa-github" title="GitHub"><span class="label">GitHub</span></a></li>
											<li><a href="https://x.com/johnatanpalmer" target="_blank" class="icon brands fa-twitter" title="Twitter"><span class="label">Twitter</span></a></li>
										</ul>
									</div>
								</div>
								<!-- === End of Founder Profile === -->

								<hr />

								<h3 style="text-align: left;">Building a Collaborative Future</h3>
								<p>E-co.lab was born from a vision of a single builder, but it's designed to grow into a global, collaborative ecosystem. Our mission is to attract passionate and talented individuals to help us build the future of Regenerative Finance. We are actively seeking contributors and future core team members in key areas:</p>
								<ul>
									<li><strong>Community & Marketing:</strong> Community Builders to help us grow our community, manage social channels, and tell our story to the world.</li>
									<li><strong>Legal & Compliance:</strong> Experts to help us navigate the evolving regulatory landscape of RWA and digital assets, ensuring our long-term viability.</li>
									<li><strong>Business Development & Partnerships:</strong> Strategists to connect E-co.lab with high-impact RWA projects, foundations, and institutional partners.</li>
								</ul>
								<p><strong>Passionate about ReFi and RWAs? <a href="https://discord.gg/Q6BNyUDNtm" target="_blank">Join our Discord</a> and help us build the future.</strong></p>
							</article>
							
							<!-- NFT Info Panel -->
							<article id="nft-info">
								<h2 class="major">More Than an NFT:<br> Your Early Supporter Pass</h2>
								<p>The <strong>E-co.lab Origin NFT</strong> is not just a collectible; it is the key that unlocks the core of our collaborative laboratory and your front-row ticket to <a href="https://retro9000.avax.network/discover-builders/cmebmfjtw02g5103tb8aalzvi" target="_blank" rel="noopener noreferrer">the Regenerative Finance (ReFi) revolution proposed by the E-co.lab Ecosystem on the Avalanche Network.</a></p>
								<p>By holding an E-co.lab Origin NFT, you are not just a spectator; you are one of the first architects. The proceeds from this NFT sale will be used directly to fund the professional security audit of our contracts and our ecosystem development sequence, solidifying the foundation upon which our entire future will be built.</p>
								
								<p><strong>Being an E-co.lab Origin NFT Holder grants access to a set of exclusive benefits, designed to reward your trust and early support:</strong></p>
								<ul>
									<li>Guaranteed Priority Access to the $ECO Token Sale.</li>
									<li>Exclusive "E-co.lab Origin NFT Holder" status in the Community.</li>
									<li>Enhanced Future Rewards and Airdrops.</li>
								</ul>

								<hr />

								<h3 style="text-align: left;">The E-co.lab Origin NFT and the $ECO Token: A Symbiotic Relationship</h3>
								<p>It is crucial to understand how these two assets work together to drive our vision:</p>
								<p>The <strong>E-co.lab Origin NFT</strong> is your <strong>identity and access key</strong>. It represents <i>who you are</i> in our ecosystem: an early supporter, a first believer, a priority member of our community.</p>
								<p>The future <strong>$ECO Token</strong> is the <strong>fuel and governance engine</strong>. It represents <i>what you can do</i>: have a voice, access staking and rewards, and power the protocol's economy.</p>
								<p>Together, they are the foundation for our ultimate goal, as presented in our Retro9000 application: the <strong>E-co.lab ReFi Subnet</strong> on Avalanche. Your early support through the E-co.lab Origin NFT directly funds the security and development needed to launch the $ECO token, which, in turn, will govern the Subnet.</p>
								
								<p><strong>Don't just watch the future of ReFi being built. Be one of its architects.</strong></p>
								<p><strong>Secure your E-co.lab Origin NFT. Become an early supporter.</strong></p>
							</article>

						<!-- NFT Minting dApp Panel -->
							<article id="nft-eco">
								<h2 class="major">Mint Your E-co.lab Origin NFT</h2>
								<p class="notice">Not sure what the Origin NFT is? <a href="#nft-info">Click here to discover all the benefits.</a></p>
								
								<div id="wallet-info">
									<button id="connectButton">Connect Wallet</button>
									<p id="connected-account" style="display:none;"></p>
								</div>

								<div class="mint-container">
									<div class="info-grid">
										<div class="info-box">
											<p id="sale-status"><span id="sale-status-dot"></span>Loading...</p>
											<span class="label">Sale Status</span>
										</div>
										<div class="info-box">
											<p id="total-supply">-- / --</p>
											<span class="label">Supply</span>
										</div>
									</div>

									<div class="mint-controls">
										<h2>Price: <span id="price">--</span> AVAX</h2>
										<p class="notice">Max 2 NFTs per wallet.</p>

										<div class="quantity-selector">
											<input type="radio" id="q1" name="quantity" value="1" checked>
											<label for="q1">1 NFT</label>
											
											<input type="radio" id="q2" name="quantity" value="2">
											<label for="q2">2 NFTs</label>
										</div>
										
										<p>Total Cost: <strong id="total-cost">--</strong> AVAX</p>
										<button id="mintButton" disabled>Connect Wallet</button>
									</div>
								</div>
								
								<p id="status"></p>
							</article>

						<!-- Use Cases -->
							<article id="use-cases">
    							<h2 class="major">Our Use Cases in Action</h2>
								<p>These are not just ideas, they are functional dApp prototypes built on our core infrastructure to demonstrate the real-world power and versatility of the E-co.lab ecosystem. Explore them to see our vision in practice.</p>
								
								<h3 style="text-align: left;">CSA dApp</h3>
								<p style="text-align: left;">Our prototype for Community Supported Agriculture tokenizes farm shares, providing upfront funding for regenerative farmers and verifiable transparency for consumers.</p>
								<ul class="actions stacked" style="justify-content: flex-start; margin-top: 1em;">
									<li><a href="https://ecolab-web3.github.io/csa-rwa-solidity/index-en.html" target="_blank" class="button">Launch CSA dApp (Membership & Redemption)</a></li>
									<li><a href="https://ecolab-web3.github.io/csa-rwa-solidity/admin-en.html" target="_blank" class="button">Launch CSA dApp (Admin Panel for Season Management)</a></li>
								</ul>

								<h3 style="text-align: left;">Recycling Credits dApp</h3>
								<p style="text-align: left;">This dApp creates a transparent and auditable market for recycling activities. It allows cooperatives to issue verified Recycling Credits as RWAs, connecting waste management with the principles of the circular economy on-chain.</p>
								<ul class="actions stacked" style="justify-content: flex-start; margin-top: 1em;">
									<li><a href="https://ecolab-web3.github.io/recyclingcredits-rwa-solidity/recyclers-en.html" target="_blank" class="button">Launch Recycling dApp (Recyclers Portal)</a></li>
									<li><a href="https://ecolab-web3.github.io/recyclingcredits-rwa-solidity/admin-en.html" target="_blank" class="button">Launch Recycling dApp (Admin Panel)</a></li>
								</ul>

								<h3 style="text-align: left;">Dynamic Reputation Token</h3>
								<p style="text-align: left;">The trust layer of our ecosystem. This Soulbound Token (SBT) system ensures the quality and integrity of all assets in E-co.lab. Reputation is earned through verifiable on-chain and off-chain actions, creating a robust framework for trust in RWAs.</p>
								<ul class="actions stacked" style="justify-content: flex-start; margin-top: 1em;">
									<li><a href="https://ecolab-web3.github.io/dynamicreputationtoken-rwa-solidity/rating_portal-en.html" target="_blank" class="button">Launch Reputation dApp (Rating Portal)</a></li>
									<li><a href="https://ecolab-web3.github.io/dynamicreputationtoken-rwa-solidity/provider_dashboard-en.html" target="_blank" class="button">Launch Reputation dApp (Provider Dashboard)</a></li>
								</ul>
							</article>

						<!-- Validation -->
							<article id="validation">
								<h2 class="major">Validation & Recognition</h2>
								<p>E-co.lab is built on a foundation of proven work and community recognition. Our commitment to real-world impact has been validated by key players in the regenerative ecosystem.</p>
								<ul>
									<li><strong>1st Place at <a href="https://ekonavi.com/comercio-servicos/e-co-lab" target="_blank">EKONAVI</a>:</strong> Recognized as a leading project in the Regeneration Rounds 10, 11, and 12 of EKONAVI, a collaborative network for ecological development in Brazil.</li>
									<li><strong><a href="https://rede.pindorama.org.br/listagens/fazenda-permacultural-boa-ventura/" target="_blank">Pindorama Network</a> Feature:</strong> Our pilot project, Fazenda Boa Ventura, is a verified member of Rede Pindorama, the heart of the permaculture community in Brazil.</li>
									<li><strong><a href="https://giveth.io/project/e-colab" target="_blank">Giveth.io</a> Project:</strong> We are a listed project on Giveth, a leading Web3 platform for funding public goods.</li>
								</ul>
							</article>

						<!-- Community -->
							<article id="community">
								<h2 class="major">Join Our Community</h2>
								<p>E-co.lab is a collaborative laboratory. Our strength comes from our community of builders, thinkers, and supporters. Connect with us, contribute to our open-source tools, and help shape the future of regenerative finance.</p>
								
								<ul class="icons">
									<li><a href="https://t.me/+HRl7gbc_gsI5OTAx" target="_blank" class="icon brands fa-telegram"><span class="label">Telegram</span></a></li>
									<li><a href="https://discord.gg/Q6BNyUDNtm" target="_blank" class="icon brands fa-discord"><span class="label">Discord</span></a></li>
									<li><a href="https://github.com/ecolab-web3" target="_blank" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
									<li><a href="https://e-co-lab.gitbook.io/whitepaper" target="_blank" class="icon solid fa-book"><span class="label">Whitepaper</span></a></li>
								</ul>
							</article>
					</div>

				<!-- Footer -->
					<footer id="footer">
						<p class="copyright">&copy; E-co.lab. All rights reserved. Design: <a href="https://html5up.net">HTML5 UP</a>.</p>
					</footer>

			</div>

		<!-- BG -->
			<div id="bg"></div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

		<!-- dApp Scripts -->
			<script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
			<script>
				// --- CONFIGURATION ---
				const NFT_PROXY_ADDRESS = "0x91A8cD8e436f643A24F66CCc3F0ad002c053009a";
				const SALE_CONTRACT_ADDRESS = "0x3D76F68A707539EAA09D2BBB5469DcdEB88AA2e3";
				const AVALANCHE_RPC_URL = "https://api.avax.network/ext/bc/C/rpc";
				const AVALANCHE_CHAIN_ID = 43114;

				const NFT_ABI = ["function totalSupply() view returns (uint256)"];
				const SALE_ABI = [
					"function mintOrigin(uint256 quantity) payable", "function saleIsActive() view returns (bool)",
					"function PRICE() view returns (uint256)", "function MAX_SUPPLY() view returns (uint256)"
				];

				// --- Global Variables ---
				let provider, signer, saleContractWithSigner;
				let pricePerNFT = ethers.BigNumber.from(0);

				const connectButton = document.getElementById('connectButton');
				const mintButton = document.getElementById('mintButton');
				const statusEl = document.getElementById('status');
				
				// --- Main Logic ---
				async function initReadOnly() {
					updateStatus("Connecting to Avalanche...", false);
					const readOnlyProvider = new ethers.providers.JsonRpcProvider(AVALANCHE_RPC_URL);
					const readOnlySaleContract = new ethers.Contract(SALE_CONTRACT_ADDRESS, SALE_ABI, readOnlyProvider);
					const readOnlyNftContract = new ethers.Contract(NFT_PROXY_ADDRESS, NFT_ABI, readOnlyProvider);

					try {
						const [isActive, price, supply, maxSupply] = await Promise.all([
							readOnlySaleContract.saleIsActive(),
							readOnlySaleContract.PRICE(),
							readOnlyNftContract.totalSupply(),
							readOnlySaleContract.MAX_SUPPLY()
						]);

						pricePerNFT = price;
						
						document.getElementById('price').innerText = ethers.utils.formatEther(price);
						document.getElementById('total-supply').innerText = `${supply.toString()} / ${maxSupply.toString()}`;
						
						const saleStatusEl = document.getElementById('sale-status');
						const saleStatusDot = document.getElementById('sale-status-dot');
						saleStatusEl.innerText = isActive ? "Active" : "Inactive";
						saleStatusDot.style.backgroundColor = isActive ? "#B4E5A2" : "#CF6679";

						if (isActive) {
							updateStatus("Sale is active. Connect your wallet to mint.", false);
						} else {
							updateStatus("The sale is not currently active.", true);
							mintButton.disabled = true;
							mintButton.innerText = "Sale Inactive";
						}
						
						updateTotalCost();
					} catch (error) {
						updateStatus(`Error loading contract data: ${error.message}`, true);
					}
				}

				async function connectWallet() {
					if (typeof window.ethereum === 'undefined') {
						return updateStatus("MetaMask is not installed!", true);
					}
					try {
						await window.ethereum.request({ method: 'eth_requestAccounts' });
						provider = new ethers.providers.Web3Provider(window.ethereum);
						
						const network = await provider.getNetwork();
						if (network.chainId !== AVALANCHE_CHAIN_ID) {
							updateStatus("Wrong Network! Please switch to Avalanche Mainnet.", true);
							try {
								await window.ethereum.request({
									method: 'wallet_switchEthereumChain',
									params: [{ chainId: `0x${AVALANCHE_CHAIN_ID.toString(16)}` }],
								});
								return connectWallet();
							} catch (switchError) {
								return updateStatus("Please switch to the Avalanche network in MetaMask to continue.", true);
							}
						}
						
						signer = provider.getSigner();
						const connectedAddress = await signer.getAddress();
						
						saleContractWithSigner = new ethers.Contract(SALE_CONTRACT_ADDRESS, SALE_ABI, signer);

						document.getElementById('connected-account').innerText = `Connected: ${connectedAddress.slice(0, 6)}...${connectedAddress.slice(-4)}`;
						document.getElementById('connected-account').style.display = 'block';
						connectButton.style.display = 'none';
						
						const isActive = await saleContractWithSigner.saleIsActive();
						if (isActive) {
							mintButton.disabled = false;
							mintButton.innerText = "Mint Now";
							updateStatus("Wallet connected. Ready to mint.", false, true);
						} else {
							mintButton.disabled = true;
							mintButton.innerText = "Sale Inactive";
						}
						
					} catch (error) {
						updateStatus(`Error connecting wallet: ${error.message}`, true);
					}
				}

				function updateTotalCost() {
					const selectedRadio = document.querySelector('input[name="quantity"]:checked');
					const quantity = selectedRadio ? parseInt(selectedRadio.value) : 0;
					const totalCost = pricePerNFT.mul(quantity);
					document.getElementById('total-cost').innerText = ethers.utils.formatEther(totalCost);
				}

				async function mintNFT() {
					if (!saleContractWithSigner) { return updateStatus("Please connect your wallet first.", true); }
					
					const selectedRadio = document.querySelector('input[name="quantity"]:checked');
					const quantity = selectedRadio ? parseInt(selectedRadio.value) : 0;

					if (quantity <= 0) { return updateStatus("Please select a quantity.", true); }

					const totalCost = pricePerNFT.mul(quantity);
					updateStatus("Sending transaction to MetaMask...", false);

					try {
						const tx = await saleContractWithSigner.mintOrigin(quantity, { value: totalCost });
						updateStatus(`Waiting for confirmation... <a href="https://snowtrace.io/tx/${tx.hash}" target="_blank">View Transaction</a>`, false);
						await tx.wait();
						updateStatus(`Success! NFT(s) minted. Hash: ${tx.hash.slice(0,10)}...`, false, true);
						await initReadOnly();
					} catch (error) {
						let friendlyMessage = "An unknown error occurred.";
						console.error("Full minting error:", error);
						
						if (error.code === 4001) {
							friendlyMessage = "Transaction rejected in wallet.";
						} else if (error.code === 'INSUFFICIENT_FUNDS' || (error.data && error.data.message && error.data.message.toLowerCase().includes('insufficient funds')) || (error.message && error.message.toLowerCase().includes('insufficient funds'))) {
							friendlyMessage = "Insufficient AVAX in your wallet for this transaction.";
						} else {
							const lowerCaseMessage = (error.reason || (error.data ? error.data.message : error.message) || "").toLowerCase();
							if (lowerCaseMessage.includes("sale is not active")) {
								friendlyMessage = "The sale is not currently active.";
							} else if (lowerCaseMessage.includes("exceeds max supply")) {
								friendlyMessage = "The collection is sold out.";
							} else if (lowerCaseMessage.includes("exceeds max per wallet")) {
								friendlyMessage = "You have already minted the maximum amount allowed per wallet.";
							} else {
								friendlyMessage = error.reason || (error.data ? error.data.message : "The transaction failed.");
							}
						}
						updateStatus(`Error: ${friendlyMessage}`, true);
					}
				}

				function updateStatus(message, isError, isSuccess = false) {
					statusEl.innerHTML = message;
					statusEl.className = isError ? 'error' : (isSuccess ? 'success' : '');
				}

				// --- Event Listeners ---
				connectButton.addEventListener('click', connectWallet);
				mintButton.addEventListener('click', mintNFT);
				document.querySelectorAll('input[name="quantity"]').forEach(radio => {
					radio.addEventListener('change', updateTotalCost);
				});
				initReadOnly();
			</script>
	</body>
</html>